.text
.globl main
main:

    li $t1,1    
    li $s0,1    # For the value of the factorial
    
    # Taking input for the value of n
    la $a0,x
    li $v0,4
    syscall
    li $v0,5
    syscall
    move $t0,$v0

    # Calling the factorial function
    jal factorial

    # Displaying output
    la $a0,ans
    li $v0,4
    syscall
    li $v0,1
    add $a0,$s0,$zero
    syscall

    # Ending the program
    j END

factorial:
    
    sw $ra,0($sp)           # Storing the return address at sp
    addi $sp,$sp,-4         # then moving the sp 
    
    beq $t0,$zero,endfunction   # termination condition
    
    mul $s0,$s0,$t0
    sub $t0,$t0,$t1
    
    jal factorial           #   RECURSIVELY CALLING FACTORIAL FUNCTION           
    
    addi $sp,$sp,4          # moving the sp to previous address to get return address
    lw $ra,0($sp)           # Updating return address
    
    jr $ra

endfunction:
    
    addi $sp,$sp,4          # moving the sp to previous address to get return address
    lw $ra,0($sp)           # Updating return address
    
    jr $ra

END:
    jr $ra